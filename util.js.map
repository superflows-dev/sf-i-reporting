{"version":3,"file":"util.js","sourceRoot":"","sources":["src/util.ts"],"names":[],"mappings":"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","sourcesContent":["\r\nconst validateName = (name: string) => {\r\n    if((name + \"\").length > 2) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\nfunction readCookie(key: string) {\r\n    let name = key + \"=\";\r\n    let decodedCookie = decodeURIComponent(document.cookie);\r\n    let ca = decodedCookie.split(';');\r\n    for(let i = 0; i <ca.length; i++) {\r\n        let c = ca[i];\r\n        while (c.charAt(0) == ' ') {\r\n        c = c.substring(1);\r\n        }\r\n        if (c.indexOf(name) == 0) {\r\n            return c.substring(name.length, c.length);\r\n        }\r\n    }\r\n    return \"\";\r\n}\r\n\r\nasync function callApi(url: string, data: string, authorization: any) {\r\n\r\n    return new Promise((resolve: any) => {\r\n\r\n        const jsonData = JSON.stringify(data);\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.addEventListener(\"readystatechange\", () => {\r\n            if(xhr != null) {\r\n                if(xhr.readyState === 4) {\r\n                    resolve(xhr);\r\n                }\r\n            }\r\n        });\r\n        xhr.open(\"POST\", url);\r\n        xhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest'); \r\n        if(authorization != null) {\r\n            xhr.setRequestHeader('Authorization', 'Basic ' + authorization);\r\n        }\r\n        xhr.send(jsonData);\r\n\r\n        return xhr;\r\n\r\n    })\r\n\r\n}\r\n\r\nasync function callApiPresignedDelete(url: string) {\r\n\r\n    return new Promise((resolve: any) => {\r\n  \r\n        var xhr = new XMLHttpRequest();\r\n        xhr.addEventListener(\"readystatechange\", () => {\r\n            if(xhr != null) {\r\n                if(xhr.readyState === 4) {\r\n                    resolve(xhr);\r\n                }\r\n            }\r\n        });\r\n        xhr.open(\"DELETE\", url);\r\n        xhr.timeout = 1800000;\r\n        xhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest'); \r\n        xhr.send(null);\r\n  \r\n        return xhr;\r\n  \r\n    })\r\n  \r\n}\r\n\r\nasync function callApiPresignedGet(url: string) {\r\n\r\nreturn new Promise((resolve: any) => {\r\n\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.addEventListener(\"readystatechange\", () => {\r\n        if(xhr != null) {\r\n            if(xhr.readyState === 4) {\r\n                resolve(xhr);\r\n            }\r\n        }\r\n    });\r\n    xhr.open(\"GET\", url);\r\n    xhr.timeout = 1800000;\r\n    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest'); \r\n    xhr.send(null);\r\n\r\n    return xhr;\r\n\r\n})\r\n\r\n}\r\nconst delay = (delayInms: number) => {\r\nreturn new Promise(resolve => setTimeout(resolve, delayInms));\r\n};\r\n\r\nconst timeSince = (date: number) => {\r\n\r\n    var seconds = Math.floor((new Date().getTime() - date) / 1000);\r\n\r\n    if(seconds > 0) {\r\n\r\n      var interval = seconds / 31536000;\r\n    \r\n      if (interval > 1) {\r\n        return Math.floor(interval) + \" years ago\";\r\n      }\r\n      interval = seconds / 2592000;\r\n      if (interval > 1) {\r\n        return Math.floor(interval) + \" months ago\";\r\n      }\r\n      interval = seconds / 86400;\r\n      if (interval > 1) {\r\n        return Math.floor(interval) + \" days ago\";\r\n      }\r\n      interval = seconds / 3600;\r\n      if (interval > 1) {\r\n        return Math.floor(interval) + \" hours ago\";\r\n      }\r\n      interval = seconds / 60;\r\n      if (interval > 1) {\r\n        return Math.floor(interval) + \" minutes ago\";\r\n      }\r\n      return Math.floor(seconds) + \" seconds ago\";\r\n\r\n    } else {\r\n\r\n      var interval = Math.abs(seconds) / 31536000;\r\n\r\n\r\n      console.log('timesince', seconds);\r\n      \r\n      \r\n      console.log('interval year', interval);\r\n      if (interval > 1) {\r\n        return Math.floor(interval) + \" years later\";\r\n      }\r\n      interval = Math.abs(seconds) / 2592000;\r\n      console.log('interval months', interval);\r\n      if (interval > 1) {\r\n        return Math.floor(interval) + \" months later\";\r\n      }\r\n\r\n      interval = Math.abs(seconds) / 86400;\r\n      console.log('interval days', interval);\r\n      if (interval > 1) {\r\n        return Math.floor(interval) + \" days later\";\r\n      }\r\n      \r\n      interval = Math.abs(seconds) / 3600;\r\n      console.log('interval hours', interval);\r\n      if (interval > 1) {\r\n        return Math.floor(interval) + \" hours later\";\r\n      }\r\n      interval = Math.abs(seconds) / 60;\r\n      if (interval > 1) {\r\n        return Math.floor(interval) + \" minutes later\";\r\n      }\r\n      return Math.floor(Math.abs(seconds)) + \" seconds\";\r\n\r\n    }\r\n}\r\n\r\nfunction isInteger(value: string) {\r\n    return /^-?\\d+$/.test(value);\r\n}\r\n\r\nfunction isPlainObject(value: any): boolean {\r\n  return Object.prototype.toString.call(value) === '[object Object]';\r\n}\r\n\r\nconst exportFunctions = {\r\n   callApi, callApiPresignedDelete, callApiPresignedGet, validateName, readCookie, delay, timeSince, isInteger, isPlainObject\r\n};\r\n\r\nexport default exportFunctions;"]}